define("local_sc_learningplans/duplicate_learningplan",["exports","core/ajax"],(function(_exports,Ajax){function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,Ajax=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(Ajax);_exports.init=learningid=>{const btnduplicateplan=document.querySelector("#duplicate_learning_plan"),duplicate_courses=document.querySelector("#duplicate_courses"),copy_courses=document.querySelector("#copy_courses");btnduplicateplan&&btnduplicateplan.addEventListener("click",(e=>{e.preventDefault();const learningname=document.querySelector("#learningname");if(!learningname.validity.valid)return void learningname.reportValidity();const learningshortname=document.querySelector("#learningshortname");if(!learningshortname.validity.valid)return void learningshortname.reportValidity();const desc_plan=document.querySelector("#desc_plan"),learningimage=document.querySelector("#id_learningplan_image"),duplicate_users=document.querySelector("#duplicate_users");Ajax.call([{methodname:"local_sc_learningplans_duplicate_learning_plan",args:{learningid:learningid,learningshortname:learningshortname.value,learningname:learningname.value,fileimage:learningimage.value,description:desc_plan.value,courses:duplicate_courses.checked,copycourses:copy_courses.checked,users:duplicate_users.checked}}])[0].done((function(response){window.console.log("local_sc_learningplans_duplicate_learning_plan",response),location.href="/local/sc_learningplans/index.php"})).fail((function(response){window.console.error(response)}))})),duplicate_courses&&copy_courses&&(duplicate_courses.addEventListener("change",(e=>{e.target.checked?copy_courses.disabled=!0:copy_courses.disabled=!1})),copy_courses.addEventListener("change",(e=>{e.target.checked?duplicate_courses.disabled=!0:duplicate_courses.disabled=!1})))}}));

//# sourceMappingURL=duplicate_learningplan.min.js.map