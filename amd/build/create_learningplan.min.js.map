{"version":3,"file":"create_learningplan.min.js","sources":["../src/create_learningplan.js"],"sourcesContent":["import * as Ajax from 'core/ajax';\nimport * as Str from 'core/str';\n\n//Get name and shortname of the custom field\nconst learningshortid = document.getElementById('learningshortid');\nconst plannameelement = document.getElementById('learningname');\nconst btnadd = document.getElementById('addplan');\n\n//Get period items to be used\nconst addperiod = document.getElementById('addperiod');\nconst notperiod = document.getElementById('notperiod');\nconst optperiod = document.getElementById('periodslist');\nconst addingperiods = document.getElementById('addingperiods');\nconst parent = document.getElementById('listperiods');\nconst parent_enrol = document.getElementById('type_enrol');\nconst parent_subperiods = document.getElementById('subperiods');\n\n//Get courses items to be used\nconst addcourses = document.getElementById('addcourses');\nconst listcoursesplan = document.getElementById('listcoursesplan');\nconst addrequired = document.getElementById('addrequired');\nconst addoptional = document.getElementById('addooptional');\nconst requiredlist = document.getElementById('formCurrentCourseToLearningPlan');\nconst optionallist = document.getElementById('formOptionalCourseToLearningPlan');\nconst selectedcourse = document.getElementById('selectAddCourseToLearningPlan');\n\n//Get user items to be used\nconst listusersplan = document.getElementById('listusersplan');\nconst adduser = document.getElementById('adduser');\nconst listusers = document.getElementById('listusers');\nconst listroles = document.getElementById('listroles');\nconst listgroups = document.getElementById('listgroups');\n\n//Get plan items to be used\nconst learningimage = document.getElementById('id_learningplan_image');\n\n//Get custom fields items to be used\nconst careercost = document.getElementById('careercost');\nconst careerduration = document.getElementById('careerduration');\nconst careername = document.getElementById('careername');\nconst addSubperiodRadioButton = document.getElementById('addsubperiod');\n\nexport const init = (str_name_period_config, default_period_months) => {\n    addLearningPlan();\n    addUsers();\n    addCourses();\n    addPeriodsOrNot(str_name_period_config, default_period_months);\n};\n\nlet addLearningPlan = () => {\n    if (btnadd) {\n        btnadd.addEventListener('click', e => {\n            e.preventDefault();\n            \n            let desc_plan = document.getElementById('id_desc_planeditable');\n            if (!learningshortid.validity.valid) {\n                learningshortid.reportValidity();\n                return;\n            }\n            else if (!plannameelement.validity.valid) {\n                plannameelement.reportValidity();\n                return;\n            }\n            if (careercost && careerduration && careername) {\n                if (!careercost.validity.valid) {\n                    careercost.reportValidity();\n                    return;\n                } else if (!careerduration.validity.valid) {\n                    careerduration.reportValidity();\n                    return;\n                } else if (!careername.validity.valid) {\n                    careername.reportValidity();\n                    return;\n                }\n            }\n            const btnscourse = document.querySelectorAll('button[courseid]');\n            const btnsusers = document.querySelectorAll('button[userid]');\n            const listperiods = document.querySelectorAll('.period_name');\n            const type_enrol_manual = document.getElementById(\"type_manual\");\n            const type_enrol_automatic = document.getElementById(\"type_automatic\");\n            const hasperiod = addperiod.checked || addSubperiodRadioButton.checked;\n            const type_enrol = setTypeEnrol(type_enrol_manual, type_enrol_automatic);\n            let periods = [];\n            const courses = [];\n            const users = [];\n            listperiods.forEach(e => {\n                const index = e.getAttribute('index');\n                const name = e.value == '' ? index : e.value;\n                const monthsElement = document.querySelector(`#inputPeriodMonth${index}`);\n                let months = 0;\n                if (monthsElement) {\n                    months = monthsElement.value == '' ? 0 : monthsElement.value;\n                }\n                periods.push({\n                    name,\n                    months,\n                    hassubperiods:addSubperiodRadioButton.checked,\n                    subperiods:[]\n                });\n            });\n            if (btnscourse.length != 0 && hasperiod == 0) {\n                btnscourse.forEach(e => {\n                    courses.push({\n                        courseid: parseInt(e.getAttribute('courseid')),\n                        required: parseInt(e.getAttribute('isrequired')),\n                        credits: -1,\n                    });\n                });\n            }\n            if (btnsusers.length != 0 && hasperiod == 0) {\n                btnsusers.forEach(e => {\n                    users.push({\n                        userid: parseInt(e.getAttribute('userid')),\n                        roleid: parseInt(e.getAttribute('roleid')),\n                        group: e.getAttribute('group'),\n                    });\n                });\n            }\n            if (window.NodeList && !window.NodeList.prototype.map) {\n                window.NodeList.prototype.map = Array.prototype.map;\n            }\n            const requirements = document.querySelectorAll('input[name=learningrequirements]:checked').map(el => el.value).join();\n            const customfields = [];\n            document.getElementsByClassName('customfield').forEach(({ id, value }) => {\n                // eslint-disable-next-line babel/no-unused-expressions\n                value ? customfields.push({ id, value }) : undefined;\n            });\n            const args = {\n                learningshortid: learningshortid.value,\n                learningname: plannameelement.value,\n                periods,\n                courses,\n                users,\n                fileimage: learningimage.value,\n                description: desc_plan.innerHTML,\n                hasperiod: hasperiod,\n                enroltype: type_enrol,\n                requirements,\n                customfields\n            };\n            console.log(args)\n            const promise = Ajax.call([{\n                methodname: 'local_sc_learningplans_save_learning_plan',\n                args\n            },]);\n            promise[0].done(function (response) {\n                window.console.log('local_sc_learningplans_save_learning_plan', response);\n                window.location.href = '/local/sc_learningplans/index.php';\n            }).fail(function (response) {\n                window.console.error(response);\n            });\n        });\n    }\n};\n\nlet addUsers = () => {\n\n    const listlearningusers = document.querySelector('.listlearningusers');\n    if (adduser && listusers && listroles) {\n        adduser.addEventListener('click', async e => {\n            e.preventDefault();\n            if (!listusers.validity.valid) {\n                listusers.reportValidity();\n                return;\n            }\n            if (!listroles.validity.valid) {\n                listroles.reportValidity();\n                return;\n            }\n            const selectedoption = listusers.querySelector(`option[value=\"${listusers.value}\"]`);\n            if (selectedoption) {\n                const userid = listusers.value;\n                const roleid = listroles.value;\n                const group = listgroups.value;\n                const username = selectedoption.innerHTML;\n                selectedoption.disabled = true;\n                const divcontainer = document.createElement('div');\n                const div = document.createElement('div');\n                div.classList.add('lp_user_list', 'p-2', 'alert-primary', 'rounded-sm', 'mb-1');\n                div.innerHTML = username;\n                const deletebtn = document.createElement('button');\n                deletebtn.setAttribute('roleid', roleid);\n                deletebtn.setAttribute('userid', userid);\n                deletebtn.setAttribute('group', group);\n                deletebtn.setAttribute('aria-label', 'Close');\n                deletebtn.setAttribute('type', 'button');\n                deletebtn.classList.add('close');\n                deletebtn.onclick = e => {\n                    e.preventDefault();\n                    selectedoption.disabled = false;\n                    divcontainer.remove();\n                };\n                const deleteicon = document.createElement('i');\n                deleteicon.classList.add('fa', 'fa-close');\n                divcontainer.append(div);\n                div.append(deletebtn);\n                listlearningusers.append(divcontainer);\n                deletebtn.append(deleteicon);\n                listusers.value = '';\n                listroles.value = '';\n            }\n        });\n    }\n};\n\nlet addCourses = async () => {\n    if (addrequired && requiredlist) {\n        addrequired.addEventListener('click', async e => {\n            e.preventDefault();\n            if (!selectedcourse.value) {\n                return;\n            }\n            const selectedoption = selectedcourse.querySelector(`option[value=\"${selectedcourse.value}\"]`);\n            window.console.log(selectedoption, `option[value=\"${selectedcourse.value}\"]`);\n            if (selectedoption) {\n                selectedoption.disabled = true;\n                const coursename = selectedoption.innerHTML;\n                const courseid = selectedcourse.value;\n\n                const divcontainer = document.createElement('div');\n                const div = document.createElement('div');\n                div.id = `optionalcourse-${courseid}`;\n                div.classList.add('lp_course_list', 'p-2', 'alert-primary', 'rounded-sm', 'mb-1');\n                div.innerHTML = coursename;\n                const deletebtn = document.createElement('button');\n\n                deletebtn.setAttribute('isrequired', 1);\n                deletebtn.setAttribute('courseid', courseid);\n                deletebtn.setAttribute('aria-label', 'Close');\n                deletebtn.setAttribute('type', 'button');\n                deletebtn.classList.add('close');\n                deletebtn.onclick = e => {\n                    e.preventDefault();\n                    window.console.log(e.target, e.target.getAttribute('courseid'));\n                    selectedoption.disabled = false;\n                    divcontainer.remove();\n                };\n                const deleteicon = document.createElement('i');\n                deleteicon.classList.add('fa', 'fa-close');\n                divcontainer.append(div);\n                div.append(deletebtn);\n                requiredlist.append(divcontainer);\n                deletebtn.append(deleteicon);\n                selectedcourse.value = '';\n            }\n        });\n    }\n    if (addoptional && optionallist) {\n        addoptional.addEventListener('click', async e => {\n            e.preventDefault();\n            if (!selectedcourse.value) {\n                return;\n            }\n            const selectedoption = selectedcourse.querySelector(`option[value=\"${selectedcourse.value}\"]`);\n            window.console.log(selectedoption, `option[value=\"${selectedcourse.value}\"]`);\n            if (selectedoption) {\n                selectedoption.disabled = true;\n                const coursename = selectedoption.innerHTML;\n                const courseid = selectedcourse.value;\n\n                const divcontainer = document.createElement('div');\n                const div = document.createElement('div');\n                div.id = `requiredcourse-${courseid}`;\n                div.classList.add('lp_course_list', 'p-2', 'alert-info', 'rounded-sm', 'mb-1');\n                div.innerHTML = coursename;\n                const deletebtn = document.createElement('button');\n                deletebtn.setAttribute('isrequired', 0);\n                deletebtn.setAttribute('courseid', courseid);\n                deletebtn.setAttribute('aria-label', 'Close');\n                deletebtn.setAttribute('type', 'button');\n                deletebtn.classList.add('close');\n                deletebtn.onclick = e => {\n                    e.preventDefault();\n                    window.console.log(e.target, e.target.getAttribute('courseid'));\n                    selectedoption.disabled = false;\n                    divcontainer.remove();\n                };\n                const deleteicon = document.createElement('i');\n                deleteicon.classList.add('fa', 'fa-close');\n                divcontainer.append(div);\n                div.append(deletebtn);\n                optionallist.append(divcontainer);\n                deletebtn.append(deleteicon);\n                selectedcourse.value = '';\n            }\n        });\n    }\n};\n\nlet addPeriodsOrNot = async (str_name_period_config, default_period_months) => {\n    if (addperiod) {\n        const periodname = await Str.get_string('periodname', 'local_sc_learningplans');\n        //const period = await Str.get_string('period', 'local_sc_learningplans');\n        const typeperiod = await Str.get_string('typeperiod', 'local_sc_learningplans');\n        const manual = await Str.get_string('manual', 'local_sc_learningplans');\n        const auto = await Str.get_string('auto', 'local_sc_learningplans');\n        const periodmonths = await Str.get_string('periodmonths', 'local_sc_learningplans');\n        const divInput = document.createElement('div');\n        const divCol = document.createElement('div');\n        const label = document.createElement('label');\n        const input = document.createElement('input');\n        addperiod.addEventListener('click', () => {\n            addingperiods.disabled = false;\n            optperiod.disabled = false;\n            if (addingperiods) {\n                addingperiods.addEventListener('click', () => {\n                    parent_subperiods.classList.remove('d-none');\n                    parent.innerHTML = '';\n                    //Disabled the careerduration customfield, the duration will be calculated based on the periods\n                    if(careerduration){\n                        careerduration.value = null;\n                        careerduration.disabled = true;\n                    }\n                    \n                    // The next line was causing an error\n                    // let value = optperiod.isoptions[optperiod.selectedIndex].value;\n                    let value = optperiod.value;\n                    for (let i = 1; i <= value; i++) {\n                        const labelForName = label.cloneNode();\n                        labelForName.setAttribute('for', `period_${i}`);\n                        labelForName.innerHTML = `${periodname} ${i}:&nbsp;`;\n                        const inputForName = input.cloneNode();\n                        inputForName.classList.add('period_name');\n                        inputForName.classList.add('form-control');\n                        inputForName.setAttribute('value', `${str_name_period_config} ${i}`);\n                        inputForName.setAttribute('index', i);\n                        inputForName.placeholder = `${str_name_period_config} ${i}`;\n                        inputForName.id = `inputPeriodName${i}`;\n                        const labelForMonths = label.cloneNode();\n                        labelForMonths.setAttribute('for', `period_months_${i}`);\n                        labelForMonths.innerHTML = `&nbsp;&nbsp;${periodmonths}:&nbsp;`;\n                        const inputForMonths = input.cloneNode();\n                        inputForMonths.classList.add('form-control');\n                        inputForMonths.setAttribute('value', default_period_months);\n                        inputForMonths.placeholder = default_period_months;\n                        inputForMonths.setAttribute('index', i);\n                        inputForMonths.id = `inputPeriodMonth${i}`;\n\n                        const div_col = divCol.cloneNode();\n                        div_col.classList.add('col-sm-6');\n                        div_col.append(labelForName);\n                        div_col.append(inputForName);\n\n                        const div_col_months = divCol.cloneNode();\n                        div_col_months.classList.add('col-sm-6');\n                        div_col_months.append(labelForMonths);\n                        div_col_months.append(inputForMonths);\n\n\n                        const divToPut = divInput.cloneNode();\n                        divToPut.classList.add('row');\n                        divToPut.append(div_col);\n                        divToPut.append(div_col_months);\n                        /*divToPut.append(labelForName);\n                        divToPut.append(inputForName);\n                        divToPut.append(labelForMonths);\n                        divToPut.append(inputForMonths);*/\n                        parent.append(divToPut);\n                    }\n                    parent_enrol.innerHTML = `<div><label class=\"w-100\">${typeperiod}</label>\n                                              <input type=\"radio\" id=\"type_manual\" name=\"enrol_period\" value=\"1\">\n                                              <label for=\"type_manual\">${manual}</label>\n                                              <input type=\"radio\" id=\"type_automatic\" name=\"enrol_period\" value=\"2\">\n                                              <label for=\"css\">${auto}</label></div>`;\n\n                    const listperiods = document.querySelectorAll('.period_name');\n                    // eslint-disable-next-line no-unused-vars\n                    let months = 0;\n                    listperiods.forEach(e => {\n                        const index = e.getAttribute('index');\n                        const monthsElement = document.querySelector(`#inputPeriodMonth${index}`);\n                        let monthsvalue = monthsElement && monthsElement.value == '' ? 0 : parseInt(monthsElement.value);\n                        months += monthsvalue;\n                    });\n                });\n                addcourses.classList.remove(\"d-block\");\n                addcourses.classList.add(\"d-none\");\n                listcoursesplan.classList.remove(\"d-block\");\n                listcoursesplan.classList.add(\"d-none\");\n                listusersplan.classList.remove(\"d-block\");\n                listusersplan.classList.add(\"d-none\");\n            }\n        });\n    }\n    if (notperiod) {\n        notperiod.addEventListener('click', () => {\n            \n            //Enable the careerduration customfield\n            if(careerduration){\n                careerduration.disabled = false;\n            }\n            parent.innerHTML = '';\n            parent_enrol.innerHTML = '';\n            addingperiods.disabled = true;\n            addcourses.classList.remove(\"d-none\");\n            addcourses.classList.add(\"d-block\");\n            listcoursesplan.classList.remove(\"d-none\");\n            listcoursesplan.classList.add(\"d-block\");\n            listusersplan.classList.remove(\"d-none\");\n            listusersplan.classList.add(\"d-block\");\n            parent_subperiods.classList.add('d-none');\n            optperiod.selectedIndex = -1;\n        });\n    }\n};\n\nconst setTypeEnrol = (type_enrol_manual, type_enrol_automatic) => {\n    if (type_enrol_manual && type_enrol_manual.checked) { return 1; }\n    else if (type_enrol_automatic && type_enrol_automatic.checked) { return 2; }\n    return 0;\n};"],"names":["learningshortid","document","getElementById","plannameelement","btnadd","addperiod","notperiod","optperiod","addingperiods","parent","parent_enrol","parent_subperiods","addcourses","listcoursesplan","addrequired","addoptional","requiredlist","optionallist","selectedcourse","listusersplan","adduser","listusers","listroles","listgroups","learningimage","careercost","careerduration","careername","addSubperiodRadioButton","str_name_period_config","default_period_months","addLearningPlan","addUsers","addCourses","addPeriodsOrNot","addEventListener","e","preventDefault","desc_plan","validity","valid","reportValidity","btnscourse","querySelectorAll","btnsusers","listperiods","type_enrol_manual","type_enrol_automatic","hasperiod","checked","type_enrol","setTypeEnrol","periods","courses","users","forEach","index","getAttribute","name","value","monthsElement","querySelector","months","push","hassubperiods","subperiods","length","courseid","parseInt","required","credits","userid","roleid","group","window","NodeList","prototype","map","Array","requirements","el","join","customfields","getElementsByClassName","_ref","id","args","learningname","fileimage","description","innerHTML","enroltype","console","log","Ajax","call","methodname","done","response","location","href","fail","error","listlearningusers","async","selectedoption","username","disabled","divcontainer","createElement","div","classList","add","deletebtn","setAttribute","onclick","remove","deleteicon","append","coursename","target","periodname","Str","get_string","typeperiod","manual","auto","periodmonths","divInput","divCol","label","input","i","labelForName","cloneNode","inputForName","placeholder","labelForMonths","inputForMonths","div_col","div_col_months","divToPut","monthsvalue","selectedIndex"],"mappings":"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"}