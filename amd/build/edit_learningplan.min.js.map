{"version":3,"file":"edit_learningplan.min.js","sources":["../src/edit_learningplan.js"],"sourcesContent":["import * as Ajax from 'core/ajax';\n\nexport const init = (learningid, is_siteadmin) => {\n    const btneditplan = document.querySelector('#edit_learning_plan');\n    if (btneditplan) {\n        btneditplan.addEventListener('click', e => {\n            e.preventDefault();\n            const learningname = document.querySelector('#learningname');\n            if (!learningname.validity.valid) {\n                learningname.reportValidity();\n                return;\n            }\n            const learningshortname = document.querySelector('#learningshortname');\n            const desc_plan = document.querySelector('#desc_plan');\n            const learningimage = document.querySelector('#id_learningplan_image');\n            const promise = Ajax.call([{\n                methodname: 'local_sc_learningplans_edit_learning_plan',\n                args: {\n                    learningid: learningid,\n                    learningname: learningname.value,\n                    learningshortname: learningshortname.value,\n                    fileimage: learningimage.value,\n                    description: desc_plan.value,\n                }\n            }, ]);\n\n            promise[0].done(function() {\n                window.console.log(is_siteadmin, 'local_sc_learningplans_edit_learning_plan');\n                if(!is_siteadmin) {\n                    window.location.href = '/';\n                }\n                else {\n                    window.location.href = '/local/sc_learningplans/index.php';\n                }\n            }).fail(function(response) {\n                window.console.error(response);\n            });\n        });\n    }\n};"],"names":["learningid","is_siteadmin","btneditplan","document","querySelector","addEventListener","e","preventDefault","learningname","validity","valid","learningshortname","desc_plan","learningimage","Ajax","call","methodname","args","value","fileimage","description","done","window","console","log","location","href","fail","response","error","reportValidity"],"mappings":"s3CAEoB,SAACA,WAAYC,kBACvBC,YAAcC,SAASC,cAAc,uBACvCF,aACAA,YAAYG,iBAAiB,SAAS,SAAAC,GAClCA,EAAEC,qBACIC,aAAeL,SAASC,cAAc,oBACvCI,aAAaC,SAASC,WAIrBC,kBAAoBR,SAASC,cAAc,sBAC3CQ,UAAYT,SAASC,cAAc,cACnCS,cAAgBV,SAASC,cAAc,0BAC7BU,KAAKC,KAAK,CAAC,CACvBC,WAAY,4CACZC,KAAM,CACFjB,WAAYA,WACZQ,aAAcA,aAAaU,MAC3BP,kBAAmBA,kBAAkBO,MACrCC,UAAWN,cAAcK,MACzBE,YAAaR,UAAUM,UAIvB,GAAGG,MAAK,WACZC,OAAOC,QAAQC,IAAIvB,aAAc,6CAK7BqB,OAAOG,SAASC,KAJhBzB,aAIuB,oCAHA,OAK5B0B,MAAK,SAASC,UACbN,OAAOC,QAAQM,MAAMD,kBA1BrBpB,aAAasB"}