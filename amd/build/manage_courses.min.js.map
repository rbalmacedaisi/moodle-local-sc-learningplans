{"version":3,"file":"manage_courses.min.js","sources":["../src/manage_courses.js"],"sourcesContent":["import * as notification from 'core/notification';\nimport * as Str from 'core/str';\nimport * as Ajax from 'core/ajax';\n\nexport const init = (learningplanid) => {\n    deleteCourseAction(learningplanid);\n    addCoursePeriodAction(learningplanid);\n    addRequiredAction(learningplanid);\n    addOptionalAction(learningplanid);\n    changeOptionalToRequiredAction(learningplanid);\n\n    updateCoursePositionAction();\n};\n\nlet deleteCourseAction = (learningplanid) => {\n    const deleteBtns = document.querySelectorAll('#btndeletecourse');\n    if (deleteBtns) {\n        const titleconfirm = Str.get_string('titleconfirm', 'local_sc_learningplans');\n        const msgconfirm = Str.get_string('msgconfirm_course', 'local_sc_learningplans');\n        const yesconfirm = Str.get_string('yesconfirm', 'local_sc_learningplans');\n        for (const el of deleteBtns) {\n            el.addEventListener('click', e => {\n                e.preventDefault();\n                const course_record_id = el.getAttribute('course-record-id');\n                const isrequired = el.getAttribute('course-required');\n                notification.saveCancel(titleconfirm, msgconfirm, yesconfirm, () => {\n                    callDeleteCourse(learningplanid, course_record_id, isrequired);\n                });\n            });\n        }\n    }\n};\n\nlet addCoursePeriodAction = (learningplanid) => {\n    const btnaddcourses = document.querySelector('#addcourses');\n    if (btnaddcourses) {\n        btnaddcourses.addEventListener('click', e => {\n            e.preventDefault();\n            const courseselected = document.getElementById('selectAddCourseToLearningPlanPeriod').selectedOptions;\n            const periodselected = document.getElementById('selectPeriodToLearningPlan').value;\n            const creditselected = -1;\n            let isrequired = 0;\n            if (document.getElementById('required').checked) {\n                isrequired = 1;\n            } else {\n                isrequired = 0;\n            }\n            if (courseselected) {\n                const datacourses = Array.prototype.slice.call(courseselected);\n                const courseid = datacourses.map(select => select.value).join(',');\n                callAddCourse(learningplanid, periodselected, courseid, isrequired, creditselected);\n            }\n        });\n    }\n};\n\nlet addRequiredAction = (learningplanid) => {\n    const btnaddrequired = document.querySelector('#addrequired');\n    if (btnaddrequired) {\n        btnaddrequired.addEventListener('click', e => {\n            e.preventDefault();\n            const courseselected = document.getElementById('selectAddCourseToLearningPlan').selectedOptions;\n            if (courseselected) {\n                const datacourses = Array.prototype.slice.call(courseselected);\n                const courseid = datacourses.map(select => select.value).join(',');\n                callAddCourse(learningplanid, null, courseid, 1, -1);\n            }\n        });\n    }\n};\n\nlet addOptionalAction = (learningplanid) => {\n    const btnaddooptional = document.querySelector('#addOptional');\n    if (btnaddooptional) {\n        btnaddooptional.addEventListener('click', e => {\n            e.preventDefault();\n            const courseselected = document.getElementById('selectAddCourseOptionalToLearningPlan').selectedOptions;\n            if (courseselected) {\n                const datacourses = Array.prototype.slice.call(courseselected);\n                const courseid = datacourses.map(select => select.value).join(',');\n                callAddCourse(learningplanid, null, courseid, 0, -1);\n            }\n        });\n    }\n};\n\nlet changeOptionalToRequiredAction = (learningplanid) => {\n    const addoptionalrequired = document.querySelectorAll('#addoptional_required');\n    if (addoptionalrequired) {\n        const titleconfirm = Str.get_string('titleconfirmmove', 'local_sc_learningplans');\n        const yesconfirm = Str.get_string('yesmmoveconfirm', 'local_sc_learningplans');\n        for (const add of addoptionalrequired) {\n            const coursename = add.getAttribute('cname');\n            const msgconfirm = Str.get_string('msgconfirm_mmove', 'local_sc_learningplans', { cname: coursename });\n            add.addEventListener('click', e => {\n                e.preventDefault();\n                const course_record_id = add.getAttribute('course-record-id');\n                const credits = add.getAttribute('credits') ?? -1;\n                const periodid = add.getAttribute('periodid') ?? null;\n                if (course_record_id) {\n                    const recordid = course_record_id;\n                    notification.saveCancel(titleconfirm, msgconfirm, yesconfirm, () => {\n                        callDeleteCourse(learningplanid, recordid, 0, false, credits, periodid, add.getAttribute('course-id'));\n                    });\n                }\n            });\n        }\n    }\n};\n\n\nconst callUpdateCourse = (learningid, courseorder, periodid = null, reload = true) => {\n    learningid = parseInt(learningid);\n    const promise = Ajax.call([{\n        methodname: 'local_sc_learningplans_update_required_learning_courses',\n        args: {\n            learningplan: learningid,\n            courseorder,\n            periodid\n        }\n    },]);\n\n    promise[0].done(function (response) {\n        window.console.log('local_sc_learningplans_update_required_learning_courses', response);\n        if(reload) {\n            location.reload();\n        }\n    }).fail(function (response) {\n        window.console.error(response);\n    });\n};\n\nconst callAddCourse = (learningid, periodid, courseid, isrequired, credits) => {\n    learningid = parseInt(learningid);\n    isrequired = parseInt(isrequired);\n    const promise = Ajax.call([{\n        methodname: 'local_sc_learningplans_save_learning_course',\n        args: {\n            learningplan: learningid,\n            periodid: periodid,\n            courseid,\n            required: isrequired,\n            credits: credits,\n        }\n    },]);\n\n    promise[0].done(function (response) {\n        window.console.log('local_sc_learningplans_save_learning_course', response);\n        location.reload();\n    }).fail(function (response) {\n        window.console.error(response);\n    });\n};\n\nconst callDeleteCourse = (\n    learningid, recordid, isrequired, notaddingcourse = true, credits = -1, periodid = null, courseid = null\n) => {\n    learningid = parseInt(learningid);\n    recordid = parseInt(recordid);\n    isrequired = parseInt(isrequired);\n    const promise = Ajax.call([{\n        methodname: 'local_sc_learningplans_delete_learning_course',\n        args: {\n            learningplan: learningid,\n            courseid: recordid,\n            required: isrequired,\n        }\n    },]);\n\n    promise[0].done(function (response) {\n        window.console.log('local_sc_learningplans_delete_learning_course', response);\n        if (notaddingcourse) {\n            location.reload();\n        }\n        else {\n            callAddCourse(learningid, periodid, courseid, 1, credits);\n        }\n\n    }).fail(function (response) {\n        window.console.error(response);\n    });\n};\n\nlet items = document.querySelectorAll('.list-courses-required');\nlet itemsPeriod = document.querySelectorAll('.tab-pane .list-courses-required-period');\nlet containercourses = document.querySelectorAll('.coursesrequired');\n\nconst updateCoursePositionAction = () => {\n    const btnupdatecourseorder = document.querySelector('#updatecourseorder');\n\n    items.forEach(function (item) {\n        item.addEventListener('dragstart', handleDragStart, false);\n        item.addEventListener('dragenter', handleDragEnter, false);\n        item.addEventListener('dragover', handleDragOver, false);\n        item.addEventListener('dragleave', handleDragLeave, false);\n        item.addEventListener('drop', handleDrop, false);\n        item.addEventListener('dragend', handleDragEnd, false);\n    });\n\n    itemsPeriod.forEach(function (item) {\n        item.addEventListener('dragstart', handleDragStart, false);\n        item.addEventListener('dragenter', handleDragEnter, false);\n        item.addEventListener('dragover', handleDragOver, false);\n        item.addEventListener('dragleave', handleDragLeave, false);\n        item.addEventListener('drop', handleDrop, false);\n        item.addEventListener('dragend', handleDragEnd, false);\n    });\n\n    containercourses.forEach(function (contelement) {\n        contelement.addEventListener('dragenter', handleDragEnter, false);\n        contelement.addEventListener('dragleave', handleDragLeave, false);\n        contelement.addEventListener('dragover', handleDragOver, false);\n        contelement.addEventListener('drop', handleDropNew, false);\n    });\n\n    if (btnupdatecourseorder) {\n        const lpid = document.querySelector(\".coursesrequired\");\n        let learningplanid = lpid.getAttribute('learningplanid');\n        btnupdatecourseorder.addEventListener('click', e => {\n            e.preventDefault();\n            clickUpdateCourses(learningplanid);\n        });\n    }\n\n    const btnupdatecourseperiodorder = document.querySelectorAll('#courseOrderInPeriod');\n    for (const btnupdate of btnupdatecourseperiodorder) {\n        btnupdate.addEventListener('click', e => {\n            e.preventDefault();\n            let periodid = btnupdate.attributes.periodid.value;\n            let lpid = btnupdate.attributes.lpid.value;\n            clickUpdateCoursePeriod(lpid, periodid);\n        });\n    }\n};\n\nconst clickUpdateCoursePeriod = (lpid, periodid, reload) => {\n    const itemsPeriod = document.querySelectorAll(`li[lpid=\"${lpid}\"][periodid=\"${periodid}\"]`);\n    const courseData = [];\n    itemsPeriod.forEach(function (item) {\n        let listRecordID = item.attributes.datacourse.value;\n        let listCoursePosition = item.attributes.poscourse.value;\n        let listCourseID = item.attributes.courseid.value;\n        courseData.push({\n            recordid: listRecordID.replace('courses[', '').replace(']', ''),\n            position: listCoursePosition,\n            courseid: listCourseID,\n        });\n    });\n    const coursePosition = [];\n    courseData.forEach((index) => {\n        coursePosition.push({\n            recordid: index.recordid,\n            courseid: index.courseid,\n            position: index.position,\n            periodid: index.periodid\n        });\n    });\n    callUpdateCourse(lpid, coursePosition, periodid, reload);\n};\n\nconst clickUpdateCourses = (learningplanid) => {\n    const courseData = [];\n    items.forEach(function (item) {\n        let listRecordID = item.attributes.datacourse.value;\n        let listCoursePosition = item.attributes.poscourse.value;\n        let listCourseID = item.attributes.courseid.value;\n        courseData.push({\n            recordid: listRecordID.replace('courses[', '').replace(']', ''),\n            position: listCoursePosition,\n            courseid: listCourseID,\n        });\n    });\n\n    const coursePosition = [];\n    courseData.forEach((index) => {\n        coursePosition.push({\n            recordid: index.recordid,\n            courseid: index.courseid,\n            position: index.position,\n            periodid: index.periodid\n        });\n    });\n    callUpdateCourse(learningplanid, coursePosition);\n};\n\nvar dragSrcEl = null;\n\n/**\n *\n * @param {*} e\n */\nfunction handleDragStart(e) {\n    this.style.opacity = '0.4';\n\n    dragSrcEl = this;\n\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.innerHTML);\n}\n\n/**\n *\n * @param {*} e\n */\nfunction handleDragOver(e) {\n    if (e.preventDefault) {\n        e.preventDefault();\n    }\n\n    e.dataTransfer.dropEffect = 'move';\n\n    return false;\n}\n\n/**\n *\n */\nfunction handleDragEnter() {\n    this.classList.add('over');\n}\n\n/**\n *\n */\nfunction handleDragLeave() {\n    this.classList.remove('over');\n}\n\n/**\n *\n * @param {*} e\n */\nfunction handleDrop(e) {\n    if (e.stopPropagation) {\n        e.stopPropagation(); // stops the browser from redirecting.\n    }\n    if (dragSrcEl != this) {\n        dragSrcEl.innerHTML = this.innerHTML;\n        this.innerHTML = e.dataTransfer.getData('text/html');\n\n        let itemToReplaceAttr = this.attributes[\"datacourse\"].value;\n        let itemToReplaceCourseAttr = this.attributes[\"courseid\"].value;\n        let draggedItemAttr = dragSrcEl.attributes[\"datacourse\"].value;\n        let draggedItemCourseAttr = dragSrcEl.attributes[\"courseid\"].value;\n        this.setAttribute(\"datacourse\", draggedItemAttr);\n        this.setAttribute(\"courseid\", draggedItemCourseAttr);\n        dragSrcEl.setAttribute(\"datacourse\", itemToReplaceAttr);\n        dragSrcEl.setAttribute(\"courseid\", itemToReplaceCourseAttr);\n        const lpid = document.querySelector(\".coursesrequired\");\n        let learningplanid = lpid.getAttribute('learningplanid');\n        let havePeriod = dragSrcEl.attributes['periodid']?.value;\n        if (havePeriod) {\n            const allPeriodsRequired = document.querySelectorAll('.coursesrequired');\n            allPeriodsRequired.forEach(el => {\n                const periodid = el.getAttribute('record-periodid');\n                window.console.log(periodid);\n                clickUpdateCoursePeriod(learningplanid, periodid, false);\n            });\n        } else {\n            clickUpdateCourses(learningplanid);\n        }\n        window.console.log(learningplanid, havePeriod,\n            'Cambiando los cursos draggedItemAttr: ',\n            draggedItemAttr, 'itemToReplaceAttr', itemToReplaceAttr);\n    }\n\n    return false;\n}\n\n/**\n *\n * @param {*} e\n */\nfunction handleDropNew(e) {\n    if (e.stopPropagation) {\n        e.stopPropagation(); // stops the browser from redirecting.\n    }\n    const dragParent = dragSrcEl.parentElement;\n    if (dragParent != e.target) {\n        e.target.append(dragSrcEl);\n    }\n    return false;\n}\n\n/**\n *\n */\nfunction handleDragEnd() {\n    this.style.opacity = '1';\n    items.forEach(function (item) {\n        item.classList.remove('over');\n    });\n    containercourses.forEach(function (item) {\n        item.classList.remove('over');\n    });\n}"],"names":["learningplanid","deleteCourseAction","addCoursePeriodAction","addRequiredAction","addOptionalAction","changeOptionalToRequiredAction","updateCoursePositionAction","deleteBtns","document","querySelectorAll","titleconfirm","Str","get_string","msgconfirm","yesconfirm","el","addEventListener","e","preventDefault","course_record_id","getAttribute","isrequired","notification","saveCancel","callDeleteCourse","btnaddcourses","querySelector","courseselected","getElementById","selectedOptions","periodselected","value","checked","courseid","Array","prototype","slice","call","map","select","join","callAddCourse","btnaddrequired","btnaddooptional","addoptionalrequired","add","coursename","cname","credits","periodid","recordid","callUpdateCourse","learningid","courseorder","reload","parseInt","promise","Ajax","methodname","args","learningplan","done","response","window","console","log","location","fail","error","required","notaddingcourse","items","itemsPeriod","containercourses","btnupdatecourseorder","forEach","item","handleDragStart","handleDragEnter","handleDragOver","handleDragLeave","handleDrop","handleDragEnd","contelement","handleDropNew","clickUpdateCourses","btnupdatecourseperiodorder","btnupdate","attributes","lpid","clickUpdateCoursePeriod","courseData","listRecordID","datacourse","listCoursePosition","poscourse","listCourseID","push","replace","position","coursePosition","index","dragSrcEl","style","opacity","this","dataTransfer","effectAllowed","setData","innerHTML","dropEffect","classList","remove","stopPropagation","getData","itemToReplaceAttr","itemToReplaceCourseAttr","draggedItemAttr","draggedItemCourseAttr","setAttribute","havePeriod","_dragSrcEl$attributes","parentElement","target","append"],"mappings":"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"}